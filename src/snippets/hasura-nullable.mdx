---
title: 'Hasura Nullable'
date: 2021-08-11
description:
type: snippet
---

Nullable, what's the definition?

This is me thinking through a variety of unclear answers, to try and figure out a definition that's clear for me. Definitely no guarantees on this one.

https://hasura.io/blog/graphql-nulls-cheatsheet/ has the following code snippet:

_TypeScript:_

```
interface User {
  name?: string // opting into optional name
  name: string | null // opting into nullable name
}
```

_GraphQL:_

```
type User {
  name: String! // opting into non-nullable name
}
```

I know from another project (working with Prisma and Postgres) that a Prisma model with ? is optional. So this code snippet to me appears to be saying, User.name? is optional, and GQL User.name has **opted** into being non-nullable. As in, it's **opted** into being non-optional, AKA required.

Above, this is explained via _"But in GraphQL, all types are nullable by default, and you opt into non-nullability."_

Which helps me understand nullable isn't directly the same as optional, but doesn't say what it is.

The same article later offers a cheatsheet, found at https://hasura.io/blog/content/images/2020/05/graphql-nulls-cheatsheet.png.

Here's that image, full credit to Hasura <a src="https://hasura.io/blog/content/images/2020/05/graphql-nulls-cheatsheet.png">![Hasura GraphQL Nulls Cheatsheet](https://hasura.io/blog/content/images/2020/05/graphql-nulls-cheatsheet.png)</a>

This offers the following info about Nulls in Graphql:

> Nullable inputs are always optional

> Non-null inputs are always required

---

A secondary source https://hasura.io/docs/latest/graphql/core/actions/types/index.html offers this snippet

```
type UserInfo {
  accessToken: String!
  userId: Int!
}
```

This is an object type called UserInfo that has two fields:
accessToken: This field is of type String! (non-nullable String)
userId: This field is of type Int! (non-nullable Int)

---

After some testing with Hasura, I've discovered the following:

- A table column that is _not_ ticked as nullable (so is not-nullable) is _required_ to submit a mutation. When data is passed in to the _not ticked_ column, the mutation runs fine.
- When the same column has nullable ticked on (making the column nullable), the same mutation can be _successfully run_, saving data, with an empty field. The field also runs when null is passed.

- So recap:

  - Not Nullable = column must have the expected type data
  - Nullable = column can be empty or set to null

- Nullable in this context works like this: A graphql entry can be either empty, have the expected data, or set to null
- Not-nullable enforces the expected data is passed

So extrapolating, a definition of nullable (specifically in the context of GraphQL on Hasura) I can understand is:

- Nullable: Optional, correct type required, no data or _null_ is fine
- Not-nullable: Required, correct type must be passed

### Refs:

- https://stackoverflow.com/questions/17220114/how-to-declare-a-type-as-nullable-in-typescript
- https://hasura.io/blog/graphql-nulls-cheatsheet/
